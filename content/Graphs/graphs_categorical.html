---
title: Graphs-categorical variables
weight: 22
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="learning-objectives" class="section level4">
<h4>Learning Objectives</h4>
<p>By the end of this section you should be able to:</p>
<ul>
<li>Understand and use aesthetic mapping within ggplot2</li>
<li>Plot a barplot using categorical data</li>
<li>Make adjustments to the theme and legend of you barplot</li>
</ul>
<p>Below you will find some examples of graphs for categorical variables. Of course there are many more graphs available to help you visualise your hypothesis and research question.</p>
</div>
<div id="bar-plots" class="section level3">
<h3>Bar Plots</h3>
<p>Let’s use this minimal example to see how ggplot works.</p>
<pre class="r"><code>library(ggplot2)
plot1&lt;-ggplot(EVS_UK, aes(x = gender)) +
  geom_bar() +
  theme_classic()

plot1   # You can&#39;t view the plot unless you call it </code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/ggplot%20bar-1.png" width="672" /></p>
<p>Our first step is to give meaningful names to the values of our variable (gender). In our dataset <span class="math inline">\(1\)</span> represents men and <span class="math inline">\(2\)</span> women.</p>
<pre class="r"><code>plot1&lt;-plot1 + scale_x_discrete(breaks=c(&quot;1&quot;, &quot;2&quot;),
                      labels=c(&quot;Men&quot;, &quot;Women&quot;))
plot1</code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/ticks-1.png" width="672" /></p>
<p>Let’s give labels to our axes, again we call our plot, <code>plot1</code> and by using the <span class="math inline">\(+\)</span> sign we call the <code>labs</code> function, part of ggplot.</p>
<pre class="r"><code>plot1&lt;- plot1 +labs( y=&quot;Number of cases&quot;, x = &quot;Responder&#39;s gender&quot;)</code></pre>
<p>Additionaly we may create a barplot describing two variables gender and educational level. We build upon the exisitng graph <code>plot1</code>:</p>
<pre class="r"><code>plot1&lt;-plot1 + geom_bar(aes(fill = education))
plot1</code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>We can move the position of the legend:</p>
<pre class="r"><code>plot1 + theme(legend.position=&quot;top&quot;)</code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Or, we may position the legend in the graph:</p>
<pre class="r"><code>plot1&lt;-plot1 + theme(legend.position = c(0.25, 0.9),
          legend.direction = &quot;horizontal&quot;) 
plot1 </code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>As you may have noticed typically I am using a white background for my graphs. We may change the background by using different backgound themes. The most commonly used themes are the following:</p>
<table>
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th align="center">Theme</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>theme_gray()</td>
<td align="center">Grey background and white gridlines</td>
</tr>
<tr class="even">
<td>theme_bw()</td>
<td align="center">Classic dark-on-light</td>
</tr>
<tr class="odd">
<td>theme_minimal()</td>
<td align="center">A minimalistic theme with no background annotations</td>
</tr>
<tr class="even">
<td>theme_classic()</td>
<td align="center">A classic-looking theme, with x and y axis lines and no gridlines</td>
</tr>
</tbody>
</table>
<pre class="r"><code>plot1&lt;-plot1 + theme(legend.position = c(0.3, 0.9),
          legend.direction = &quot;horizontal&quot;) +
  theme_classic()
  
plot1 </code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Additionaly we can plot the two bars, the one next to the other</p>
<pre class="r"><code>plot2&lt;-ggplot(EVS_UK, aes(x = education, fill = gender)) + geom_bar(position = &quot;dodge&quot;) +
  theme_classic()

plot2</code></pre>
<p><img src="/Graphs/graphs_categorical_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="recap" class="section level1">
<h1>Recap</h1>
<ul>
<li>You can control the aesthetic mapping within ggplot 2 using the <code>aes()</code></li>
<li>Categorical variables can be plotted on barplots using <code>ggplot() + geom_bar</code></li>
<li>Always ensure you prepare your data before plotting</li>
</ul>
</div>
